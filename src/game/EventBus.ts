/* --------------------------------------------------------------------------
 *  EventBus.ts
 *  ------------------------------------------------------------------------
 *  React と Phaser（あるいは任意の TS クラス）間でイベントをやり取りする
 *  **シンプル & 軽量な pub/sub（イベントバス）** 実装です。
 *  ------------------------------------------------------------------------ */

import mitt, { Emitter } from "mitt";

type Events = {
    [eventName: string]: any;
};

/* ------------------------------------------------------------------ *
 *  mitt() でシングルトンの Emitter インスタンスを生成 & エクスポート
 * ------------------------------------------------------------------ *
 *  - `Emitter<Events>` を型引数に渡すことで TypeScript が
 *    on/emit でペイロード型を推論できる。
 * ------------------------------------------------------------------ */
export const EventBus: Emitter<Events> = mitt<Events>();
